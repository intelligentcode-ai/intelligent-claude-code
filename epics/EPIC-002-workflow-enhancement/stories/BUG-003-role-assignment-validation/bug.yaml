bug:
  id: "BUG-003"
  title: "Missing Role Assignment Validation in Lean Workflow"
  epic: "EPIC-002"
  created: "2025-07-15 11:40:00"
  reported_by: "@User"
  created_by: "@PM"
  assigned_to: "@PM"
  severity: "CRITICAL"
  priority: "P0"  # Blocking BUG-002 completion
  status: "TRIAGED"
  phase: "PLAN"
  
bug_description: |
  The lean workflow system has NO mandatory role assignment validation by specialist
  architect. This is causing systemic wrong role assignments throughout the system.
  Examples: System-Engineer assigned AI work, Architect assigned instead of AI-Architect,
  generic busywork tasks instead of specific valuable work.
  
reproduction_steps:
  - Create any story with tasks
  - Assign roles without architect validation
  - Observe: Wrong specialists assigned to work
  - See: No governance prevents assignment errors
  
expected_behavior: |
  Mandatory architect approval for all role assignments
  AI-agentic work automatically requires AI-Architect
  Capability matching validation before assignment
  No meaningless busywork tasks allowed
  
actual_behavior: |
  No role assignment validation exists
  Wrong specialists assigned system-wide
  Generic tasks with no real value created
  No architect oversight of assignments
  
impact_analysis:
  affected_users: "All users"
  frequency: "Every task assignment"
  business_impact: "Wrong expertise applied, wasted effort"
  workaround: "Manual review of every assignment"
  
root_cause_analysis: |
  Lean workflow removed complex enforcement but didn't replace
  critical role assignment governance. No validation prevents
  wrong specialist assignments or meaningless work.
  
resolution_criteria:
  - Mandatory architect validation for all role assignments
  - AI-agentic work detection requires AI-Architect
  - Capability matching validation system
  - Meaningful task validation (no busywork)
  - Integration with lean-workflow-executor
  
embedded_config:
  autonomy_level: "L3"
  pm_always_active: true
  memory_integration: true
  blocking_enabled: false
  git_privacy: true
  
affected_components:
  missing_validation:
    - "src/behaviors/lean-workflow-executor.md"  # Needs validation logic
    - "workflow-templates/outer-workflow.yaml"  # Needs architect approval step
    - "workflow-templates/inner-workflow.yaml"  # Needs role validation
  broken_assignments:
    - "All existing story/task role assignments need review"
    - "BUG-002 tasks have wrong assignments"
    
technical_details:
  - Add role assignment validation to lean workflow executor
  - Implement capability matching with architect approval
  - Auto-detect AI-agentic work patterns
  - Block assignment until architect validates
  - Integrate validation into workflow templates
  
tasks:
  - id: "TASK-001"
    title: "Design Role Assignment Validation System"
    type: "architecture_design"
    assigned_to: "@AI-Architect"
    priority: "blocking"
    estimated_hours: 2
    status: "planned"
    
  - id: "TASK-002"
    title: "Implement Validation in Lean Workflow Executor"
    type: "implementation"
    assigned_to: "@AI-Engineer"
    priority: "critical_path"
    dependencies: ["TASK-001"]
    estimated_hours: 3
    status: "planned"
    
  - id: "TASK-003"
    title: "Review and Fix All Existing Role Assignments"
    type: "peer_review"
    assigned_to: "@AI-Architect"
    priority: "critical_path"
    dependencies: ["TASK-001"]
    estimated_hours: 2
    status: "planned"
    
  - id: "TASK-004"
    title: "Update Workflow Templates with Validation"
    type: "implementation"
    assigned_to: "@AI-Engineer"
    priority: "critical_path"
    dependencies: ["TASK-002"]
    estimated_hours: 1
    status: "planned"
    
  - id: "TASK-005"
    title: "Test Role Assignment Validation System"
    type: "testing"
    assigned_to: "@QA-Engineer"
    priority: "critical_path"
    dependencies: ["TASK-004"]
    estimated_hours: 2
    status: "planned"
    
  - id: "TASK-006"
    title: "Update Documentation with Validation Process"
    type: "documentation"
    assigned_to: "@AI-Engineer"
    priority: "parallel"
    dependencies: ["TASK-005"]
    estimated_hours: 1
    status: "planned"
    
  - id: "TASK-007"
    title: "Deploy Role Assignment Validation"
    type: "deployment"
    assigned_to: "@DevOps-Engineer"
    priority: "critical_path"
    dependencies: ["TASK-005"]
    estimated_hours: 1
    status: "planned"