story:
  id: "STORY-004"
  title: "Lean Behavioral System"
  epic: "EPIC-002"
  created: "2025-07-15 07:29:21"
  status: "COMPLETED"
  phase: "DONE"
  
description: |
  Replace the complex behavioral enforcement system with a single lean workflow
  executor. The workflow IS the behavior - assignment files contain all needed
  instructions. This makes the system LEAN and reduces context bloat by 80%.
  
acceptance_criteria:
  - Single workflow-executor.md replaces behavioral modules
  - All behavior driven by assignment file structure
  - No penalties, monitoring, or complex prompts
  - Context size reduced by 80%
  - System remains fully functional
  
embedded_config:
  # ALL settings from config.md affecting behavioral system
  autonomy_level: "L3"
  pm_always_active: true
  memory_integration: true
  blocking_enabled: false  # Affects how violations are handled
  violation_logging: true  # Should be removed in lean system
  auto_correction: true  # Should be simplified
  git_privacy: true
  
current_bloated_system:
  behaviors_directory:
    - "runtime-tools.md" → DELETE (complex triggers)
    - "memory-coordination.md" → SIMPLIFY (just search/store)
    - "command-chains.md" → DELETE (over-engineered)
    - "unified-enforcement.md" → DELETE (penalties)
    - "team-coordination.md" → KEEP CONCEPTS (not enforcement)
    - "active-disagreement.md" → DELETE (complex)
    - "learning-team-automation.md" → SIMPLIFY (basic learning)
    
  modes_directory:
    - "core-systems.md" → EXTRACT roles only
    - "execution-engine.md" → DELETE (complex)
    - "role-framework.md" → KEEP (roles needed)
    - "integration-layer.md" → SIMPLIFY (basic memory)
    - "operational-protocols.md" → EXTRACT git patterns only
    
target_lean_system:
  keep_only:
    - "src/roles/specialists.md" (role definitions)
    - "src/behaviors/lean-workflow-executor.md" (simple executor)
    - "workflow-templates/*.yaml" (workflow definitions)
    - "templates/*.yaml" (assignment templates)
    
lean_executor_functions:
  - read_assignment_file()
  - execute_phase()
  - assign_role()
  - update_progress()
  - simple_scoring()
  - knowledge_capture()
  
virtual_team_integration:
  current_problem: |
    Virtual team currently imports many complex behavioral modules
    that create bloat and confusion. Team needs to determine optimal
    lean architecture.
    
  requirements_for_experts: |
    - AI-Architect to design lean import structure
    - AI-Engineer to implement changes
    - System-Engineer to validate deployment
    - Team to collaborate on what should be included
    
  constraints: |
    - Must maintain role definitions
    - Must preserve workflow execution
    - Must reduce context by 80%
    - Must not break existing functionality
      
tasks:
  - id: "TASK-016"
    title: "Audit current behavioral modules"
    description: "Document what each behavioral module actually does"
    assigned_to: "@AI-Architect"
    status: "completed"
    estimated_size: "SMALL"
    acceptance: "Clear list of functions to preserve"
    
  - id: "TASK-017"
    title: "Create workflow-executor.md"
    description: "Implement single lean execution module"
    assigned_to: "@AI-Engineer"
    status: "completed"
    dependencies: ["TASK-016"]
    estimated_size: "MEDIUM"
    acceptance: "Module only reads assignments and executes"
    
  - id: "TASK-018"
    title: "Remove redundant behavioral modules"
    description: "Delete modules replaced by workflow"
    assigned_to: "@AI-Engineer"
    status: "completed"
    dependencies: ["TASK-017"]
    estimated_size: "SMALL"
    acceptance: "Only workflow-executor remains"
    
  - id: "TASK-019"
    title: "Update virtual-team.md imports"
    description: "Point to lean workflow system"
    assigned_to: "@AI-Engineer"
    status: "completed"
    dependencies: ["TASK-018"]
    estimated_size: "SMALL"
    acceptance: "Clean import chain with minimal modules"
    
  - id: "TASK-020"
    title: "Validate context reduction"
    description: "Measure and confirm 80% reduction"
    assigned_to: "@QA-Engineer"
    status: "completed"
    dependencies: ["TASK-019"]
    estimated_size: "SMALL"
    acceptance: "Token count reduced by 80%"
    
technical_notes: |
  - Preserve only: task reading, execution, status update
  - Remove: penalties, monitoring, enforcement patterns
  - Assignment files become single source of truth
  - Simpler system is more reliable system