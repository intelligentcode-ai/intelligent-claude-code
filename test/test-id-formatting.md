# ID Formatting Validation Tests

These tests validate that IDs follow the proper formatting guidelines. This is NOT a software test suite - it's validation of behavioral documentation patterns.

## Test 1: ID Format Validation

### Valid ID Formats
```
✓ EPIC-001    # Correct: Uppercase type, hyphen, three digits
✓ STORY-042   # Correct: Sequential numbering maintained
✓ BUG-999     # Correct: Can reach 999
✓ EPIC-1001   # Correct: Four digits when needed
```

### Invalid ID Formats
```
✗ epic-001    # Wrong: Type must be uppercase
✗ STORY_001   # Wrong: Must use hyphen, not underscore
✗ BUG-1       # Wrong: Must pad with zeros (BUG-001)
✗ STORY 001   # Wrong: No spaces allowed
✗ TASK-001    # Wrong: TASK is not a valid work item type
```

## Test 2: Sequential ID Assignment

### Scenario: Creating Multiple Stories
```
Given existing stories: STORY-001, STORY-002, STORY-014
When creating a new story
Then the ID should be: STORY-015

Alternative safe approach:
Use STORY-020 to avoid any potential conflicts
```

### Scenario: Starting Fresh
```
Given no existing epics
When creating the first epic
Then the ID should be: EPIC-001

Given no existing stories
When creating the first story
Then the ID should be: STORY-001
```

## Test 3: Directory Structure Validation

### Correct Directory Naming
```
✓ epics/EPIC-001-user-management/
✓ epics/EPIC-001-user-management/stories/STORY-001-registration/
✓ epics/EPIC-001-user-management/bugs/BUG-001-login-issue/
```

### Incorrect Directory Naming
```
✗ epics/epic-001-user-management/     # Wrong: ID must be uppercase
✗ epics/EPIC-1-user-management/       # Wrong: Missing zero padding
✗ epics/EPIC_001_user_management/     # Wrong: Must use hyphens
```

## Test 4: YAML File ID Usage

### Correct YAML Format
```yaml
# ✓ Correct epic.yaml
epic:
  id: "EPIC-001"
  title: "User Management"

# ✓ Correct story.yaml
story:
  id: "STORY-015"
  epic_id: "EPIC-001"
  
# ✓ Correct bug.yaml
bug:
  id: "BUG-068"
  epic_id: "EPIC-001"
```

### Incorrect YAML Format
```yaml
# ✗ Wrong - lowercase
epic:
  id: "epic-001"
  
# ✗ Wrong - no padding
story:
  id: "STORY-15"
  
# ✗ Wrong - underscore
bug:
  id: "BUG_068"
```

## Test 5: Manual ID Assignment Process

### Test Case: Find Next Story ID
```bash
# Step 1: List existing stories
ls epics/EPIC-001-*/stories/*/story.yaml

# Output shows:
# STORY-001-registration/story.yaml
# STORY-002-login/story.yaml
# STORY-014-profile/story.yaml

# Step 2: Identify highest number
# Highest: 14

# Step 3: Assign next ID
# Next ID: STORY-015
```

### Test Case: Parallel Work Avoidance
```
Person A working on stories:
- Check highest: STORY-014
- Use safe gap: STORY-020

Person B working on stories:
- Check highest: STORY-014
- Use different gap: STORY-030

Result: No ID conflicts
```

## Test 6: Cross-Type ID Independence

### Each Type Has Independent Numbering
```
✓ EPIC-001 and STORY-001 can coexist
✓ STORY-005 and BUG-005 can coexist
✓ Each type maintains its own sequence
```

### Example Concurrent IDs
```
Current state:
- EPIC-003 (third epic)
- STORY-045 (forty-fifth story)
- BUG-127 (one hundred twenty-seventh bug)

All are valid simultaneously
```

## Expected Behavioral Outcomes

After following the ID formatting guidelines:

1. **Consistency**: All IDs follow TYPE-XXX format
2. **Uniqueness**: No duplicate IDs within a type
3. **Traceability**: IDs clearly indicate work item type
4. **Simplicity**: Manual assignment is straightforward
5. **Scalability**: System works up to 999, then extends to 4 digits

## Common Mistakes to Avoid

1. **Don't** create an ID generator program
2. **Don't** use environment variables for counters
3. **Don't** implement file locking mechanisms
4. **Don't** create background processes
5. **Do** follow the simple formatting guidelines
6. **Do** check existing IDs manually
7. **Do** use safe gaps when working in parallel

---

**REMEMBER:** This is a behavioral documentation system. IDs are assigned manually following these simple formatting rules, not generated by software.