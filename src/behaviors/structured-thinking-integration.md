# Structured Thinking Integration

**MANDATORY:** All main agent role operations MUST use structured thinking for complex decisions. Auto-trigger sequential and ultrathinking modes.

**PURPOSE:** Integrate systematic thinking capabilities into @PM, @Architect, and other main agent role behavioral patterns

## Core Principle: Think Before Acting

**FUNDAMENTAL RULE:** Complex problems REQUIRE structured thinking before solution proposals.

## Thinking Mode Integration

### Automatic Thinking Triggers

**COMPLEXITY TRIGGERS** - Automatically activate structured thinking:
- **Multi-Factor Decisions**: Role assignment, architecture choices, technology selection
- **High-Impact Changes**: System-wide modifications, behavioral pattern updates
- **Problem Decomposition**: Story breakdown, PRB creation, specialist selection
- **Strategic Planning**: Project direction, technology adoption, process optimization
- **Risk Assessment**: Security implications, performance impacts, integration complexity

**THINKING MODE SELECTION:**
- **Sequential Thinking**: For systematic analysis with clear steps
- **Ultrathinking**: For optimal solution discovery and deep analysis

### Integration Patterns for Main Agent Roles

#### @PM Role Integration
**STRUCTURED THINKING for @PM operations:**

**Story Analysis Phase:**
```markdown
<thinking>
Story complexity assessment:
1. Business impact analysis
2. Technical complexity evaluation  
3. Stakeholder implications
4. Risk assessment
5. Resource requirements
6. Timeline considerations
7. Dependency mapping
</thinking>

Based on structured analysis: [systematic conclusion]
```

**PRB Creation Decision:**
```markdown
<thinking>
PRB decomposition analysis:
1. Functional requirement complexity
2. Technical implementation scope
3. Integration points and dependencies
4. Testing requirements
5. Documentation needs
6. Risk mitigation strategies
</thinking>

PRB structure decision: [reasoned approach]
```

#### @Architect Role Integration
**STRUCTURED THINKING for @Architect decisions:**

**Technology Selection:**
```markdown
<thinking>
Technology evaluation framework:
1. Current system architecture analysis
2. Performance requirements assessment
3. Scalability implications
4. Security considerations
5. Maintenance complexity
6. Team expertise alignment
7. Long-term strategic fit
8. Integration complexity
</thinking>

Architecture recommendation: [systematic decision]
```

**System Design Decisions:**
```markdown
<thinking>
Design pattern evaluation:
1. Problem domain analysis
2. Constraint identification
3. Performance trade-offs
4. Maintainability impact
5. Extensibility requirements
6. Security implications
7. Implementation complexity
</thinking>

Design approach: [structured recommendation]
```

#### Specialist Architect Integration
**STRUCTURED THINKING for specialist selection:**

**Domain Analysis:**
```markdown
<thinking>
Specialist requirement analysis:
1. Technical domain complexity assessment
2. Expertise depth requirements
3. Integration complexity evaluation
4. Current team capability gap analysis
5. Learning curve implications
6. Long-term project needs
7. Specialist creation vs existing role trade-offs
</thinking>

Specialist creation decision: [analytical conclusion]
```

## Thinking Tool Integration Points

### Pre-Decision Analysis Patterns

**MANDATORY THINKING CHECKPOINTS:**
1. **Problem Definition**: What exactly needs to be solved?
2. **Context Analysis**: What constraints and requirements exist?
3. **Option Generation**: What approaches are available?
4. **Impact Assessment**: What are the implications of each option?
5. **Risk Evaluation**: What could go wrong with each approach?
6. **Resource Analysis**: What resources does each option require?
7. **Decision Criteria**: What factors should guide the final choice?

### Complexity Recognition Triggers

**HIGH COMPLEXITY INDICATORS** (Mandate structured thinking):
- **Multiple Variables**: >3 factors to consider simultaneously
- **Cross-Domain Impact**: Affects multiple system areas
- **High Stakes**: Significant consequences for wrong decisions  
- **Unclear Requirements**: Ambiguous or conflicting specifications
- **Novel Situations**: No clear precedent or established patterns
- **Time Pressure**: Important decisions under deadline constraints
- **Resource Constraints**: Limited options due to resource limitations

**MEDIUM COMPLEXITY INDICATORS** (Recommend structured thinking):
- **Standard Multi-Step**: Well-defined process with multiple steps
- **Known Patterns**: Familiar problems with established solutions
- **Clear Trade-offs**: Obvious benefits and costs of options
- **Moderate Impact**: Important but not system-critical changes

### Thinking Output Integration

**STRUCTURED THINKING RESULTS** must inform:
1. **Role Assignment Decisions**: Which specialist to create/assign
2. **PRB Structure**: How to decompose complex work
3. **Technology Choices**: Architecture and implementation decisions  
4. **Process Optimization**: Workflow and behavioral improvements
5. **Risk Mitigation**: Proactive issue prevention strategies

## Integration with Existing Behaviors

### Story Breakdown Integration
```markdown
@./story-breakdown.md imports:
- Sequential thinking for story complexity analysis
- Ultrathinking for optimal PRB decomposition
- Systematic analysis for role assignment decisions
```

### Dynamic Specialist Creation Integration
```markdown
@./dynamic-specialist-creation.md imports:
- Structured analysis for domain requirement assessment
- Thinking tools for specialist vs existing role decisions
- Systematic approach to specialist definition and creation
```

### Role Assignment Matrix Integration
```markdown
@./role-assignment-matrix.md imports:
- Two-factor analysis enhanced with structured thinking
- Systematic evaluation of project scope and work type
- Thinking tools for complex assignment scenarios
```

## Quality Assurance

### Thinking Quality Standards
- **Comprehensive**: All relevant factors considered
- **Systematic**: Logical progression through analysis steps
- **Documented**: Thinking process visible for review
- **Actionable**: Clear conclusions that guide decisions
- **Traceable**: Connection between analysis and final choice

### Success Indicators
- **Reduced Iteration**: Fewer back-and-forth corrections needed
- **Better Outcomes**: Higher success rate of role assignments and decisions
- **User Satisfaction**: Less need for user intervention and clarification
- **Systematic Consistency**: Similar problems approached with similar rigor
- **Learning Integration**: Patterns from thinking processes captured in memory

## Error Prevention Patterns

### Common Decision Errors Prevented
- **Hasty Conclusions**: Jumping to solutions without analysis
- **Single-Factor Bias**: Considering only one aspect of complex problems
- **Confirmation Bias**: Only seeking information that supports preconceptions
- **Anchoring Bias**: Over-weighting first information encountered
- **Availability Bias**: Overestimating likelihood of easily recalled events

### Systematic Validation
- **Cross-Check Analysis**: Verify thinking process covers all important factors
- **Devil's Advocate**: Actively seek counterarguments to proposed solutions
- **Scenario Planning**: Consider multiple potential outcomes
- **Stakeholder Perspective**: Evaluate from different user viewpoints
- **Long-term Implications**: Assess future consequences of current decisions

---
*Structured thinking integration for intelligent-claude-code behavioral system*