# Role Management

**MANDATORY:** MUST adopt role behaviors when using @-notation. Auto-correct violations.

**Purpose:** Role activation and behavioral adoption
**Type:** Core Component

## Imports
@./shared-patterns/learning-patterns.md
@./shared-patterns/autonomy-patterns.md

## Core System

### @-notation Activation
**Pattern:** @Role triggers behavioral adoption + PRB execution
**Execution:** Professional task completion
**Enforcement:** Real expertise adoption (no fake switching)

### Dynamic Specialists
**Trigger:** ALWAYS when technology expertise is needed
**Creation:** 10+ years expertise + Context7 knowledge injection
**Examples:** @GraphQL-Developer, @Kubernetes-Expert, @React-Developer, @AWS-Engineer

### Role State
**History:** Stack-based switching context
**Persistence:** Maintain expertise across switches
**Integration:** Memory-based learning capture

## Validation

### Technology Expertise Assessment
**Principle:** ALWAYS create specialists when technology expertise is needed
**Assessment:** Identify technology domains required for optimal execution
**Creation:** Create specialist for ANY technology domain identified

### Work Type → Role
- AI/Behavioral → @AI-Engineer/@AI-Architect
- Infrastructure → @System-Engineer/@DevOps-Engineer  
- Security → @Security-Engineer
- General → @Developer

### Assignment Rules (NEW)
**MANDATORY PROCESS:** Every role assignment MUST follow PM+Architect collaboration:

1. **Assignment Trigger Detection**:
   - Direct @Role mentions in work requests
   - Role specifications in PRB creation
   - Dynamic specialist creation requests
   - Work item role assignments

2. **Mandatory Collaboration Flow**:
   - **STEP 1**: PM analyzes work requirements and domain
   - **STEP 2**: PM selects appropriate architect (@AI-Engineer, @System-Engineer, @Security-Engineer, @Architect)
   - **STEP 3**: PM + Architect jointly evaluate and assign roles
   - **STEP 4**: Document collaboration rationale in PRB

3. **Blocking Mechanisms**:
   - Block direct role assignments without PM+Architect process
   - Intercept @Role mentions and redirect to collaboration
   - Validate PRBs include assignment documentation
   - Enforce technology expertise assessment with specialist creation justification

4. **Assignment Validation**:
   - PRB contains role assignment rationale
   - PM+Architect collaboration documented
   - Technology expertise assessment and specialist creation rationale included
   - Domain expert selection justified

### Quality Gates
- **MANDATORY**: PM + Architect collaboration for ALL assignments
- Domain expert peer review for complex work
- Continuous performance monitoring
- Assignment process compliance validation

## PRB Integration
Every @Role activation generates/executes PRB with:
- Complete context for single-pass
- Autonomous execution capability
- Built-in validation criteria

---
*Optimized role management - 45 lines vs 117*