{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://intelligentcode.ai/schemas/icc.config.schema.json",
  "title": "Intelligent Claude Code Configuration",
  "description": "Configuration schema for v9 hooks",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "version": {
      "type": "string",
      "description": "Configuration version"
    },
    "description": {
      "type": "string",
      "description": "Configuration description"
    },
    "git": {
      "type": "object",
      "description": "Git operation settings",
      "additionalProperties": false,
      "properties": {
        "privacy": { "type": "boolean", "description": "Strip AI mentions from commit/PR text" },
        "privacy_patterns": { "type": "array", "items": { "type": "string" } },
        "branch_protection": { "type": "boolean" },
        "default_branch": { "type": "string" },
        "require_pr_for_main": { "type": "boolean" }
      }
    },
    "paths": {
      "type": "object",
      "description": "Directory path configurations",
      "additionalProperties": false,
      "properties": {
        "story_path": { "type": "string" },
        "bug_path": { "type": "string" },
        "memory_path": { "type": "string" },
        "docs_path": { "type": "string" },
        "summaries_path": { "type": "string" }
      }
    },
    "development": {
      "type": "object",
      "description": "Development settings",
      "additionalProperties": false,
      "properties": {
        "file_management_strict": { "type": "boolean" }
      }
    },
    "enforcement": {
      "type": "object",
      "description": "Hook enforcement settings",
      "additionalProperties": false,
      "properties": {
        "blocking_enabled": { "type": "boolean" },
        "allow_parent_allowlist_paths": { "type": "boolean" },
        "main_scope_has_agent_privileges": { "type": "boolean" },
        "allowed_allcaps_files": { "type": "array", "items": { "type": "string" } },
        "infrastructure_protection": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": { "type": "boolean" },
            "emergency_override_enabled": { "type": "boolean" },
            "emergency_override_token": { "type": "string" },
            "imperative_destructive": { "type": "array", "items": { "type": "string" } },
            "write_operations": { "type": "array", "items": { "type": "string" } },
            "read_operations": { "type": "array", "items": { "type": "string" } },
            "whitelist": { "type": "array", "items": { "type": "string" } },
            "read_operations_allowed": { "type": "boolean" }
          }
        }
      }
    }
  }
}
