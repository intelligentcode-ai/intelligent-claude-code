# Nano PRB Template - Trivial Single-Line Changes
# Auto-selected for complexity score <= 2

# ⚠️ CRITICAL: ALL 6 SECTIONS MANDATORY - SKIP NOTHING
# ⚠️ SETTINGS ENFORCEMENT: git_privacy: true = NO AI mentions in commits

id: NANO-[AUTO]
type: nano-prb
complexity: trivial
priority: "[PRIORITY_LEVEL]"  # CRITICAL, HIGH, MEDIUM, LOW
title: "[AUTO-ROLE] [DESCRIPTION]"

# MANDATORY: Complete Context Section
complete_context:
  project: "[CLAUDE.md]"        # Project context from CLAUDE.md
  settings: "[ALL-SETTINGS]"   # All configuration values
  git_privacy: "[FROM_CONFIG]" # git_privacy setting from config
  branch_protection: "[FROM_CONFIG]" # branch_protection from config
  default_branch: "[FROM_CONFIG]"    # default_branch from config
  branch_strategy: "[FROM_CONFIG]"   # branch_prefixes from config

# MANDATORY: Requirements Section
requirements:
  functional:
    - "[SPECIFIC_CHANGE_NEEDED]"
  processual:
    - "Respect git_privacy setting for commit messages"
    - "Follow branch protection if enabled"
    - "Use configured default branch"

# Direct execution - no workflow needed
execution:
  action: "[SPECIFIC_CHANGE]"
  file: "[FILE_PATH]"
  line: "[LINE_NUMBER]" # Optional
  
validation:
  - "[SIMPLE_CHECK]"

# MANDATORY: Git Operations Section  
# ⚠️ git_privacy: true = NO "Generated with Claude Code", NO "Co-Authored-By: Claude"
git_operations:
  branch_strategy: "[FROM_CONFIG]"     # Use configured branch strategy
  branch_protection: "[FROM_CONFIG]"  # Respect branch protection setting
  commit_format: "[ID]: [DESCRIPTION]"
  privacy_filter: "[FROM_CONFIG]"     # Apply git_privacy if enabled - CRITICAL!
  default_branch: "[FROM_CONFIG]"     # Target configured default branch
  version_bump: "[NONE|PATCH]"        # PATCH for fixes, NONE for trivial

# MANDATORY: Documentation Updates Section
documentation_updates:
  - file: "CHANGELOG.md"
    action: "Update with change description"
  - file: "[FROM_CONFIG]"
    action: "Update if affected"

# MANDATORY: Knowledge Management Section
knowledge_management:
  structure: "memory/[topic]/[subtopic].md"
  storage: "version-controlled"
  capture: "not_needed_for_trivial"

# MANDATORY: Review Process Section
review_process:
  type: "no_review_needed"
  rationale: "trivial_change"

# MANDATORY: Implementation Samples Section
# ⚠️ EXECUTION CHECKLIST: All 6 sections must be completed
implementation_samples:
  example_commit: "[NANO-001]: Fix typo in README.md"
  example_change: "Line 15: 'documnetation' → 'documentation'"
  
  execution_checklist: |
    ☐ Complete Context Section - Settings loaded and applied
    ☐ Requirements Section - All requirements met  
    ☐ Git Operations Section - Commands executed with privacy_filter
    ☐ Documentation Updates Section - CHANGELOG.md and affected files updated
    ☐ Knowledge Management Section - Captured if needed
    ☐ Review Process Section - Completed or justified skip
    ☐ Implementation Samples Section - Applied correctly
    
    SKIP NOTHING. EXECUTE EVERYTHING.
  
# Minimal overhead for trivial changes but ALL sections still mandatory