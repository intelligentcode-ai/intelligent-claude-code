# Mega PRB Template - System-Wide Changes (30+ points)
# For major system overhauls and architectural changes

# === TEMPLATE METADATA (@PM FILLS THESE) ===
id: "[PARENT_ID]-PRB-[NEXT_NUMBER]-[TITLE]-[CURRENT_DATE]"
title: "[ROLE] [DESCRIPTION]"
type: mega-prb
complexity: system-wide
priority: critical
requires_epic_decomposition: true

# === PROJECT CONTEXT (@PM FILLS FROM CONFIG) ===
project_root: "[PROJECT_ROOT]"
system_nature: "[SYSTEM_NATURE]"
git_privacy: "[FROM_CONFIG]"
branch_protection: "[FROM_CONFIG]"
default_branch: "[FROM_CONFIG]"
branch_prefix: "[FROM_CONFIG]"

# === WORK SPECIFICATION (@PM FILLS FROM EPIC/STORY) ===
user_request: "[USER_REQUEST]"
success_criteria: "[SUCCESS_CRITERIA]"
business_driver: "[BUSINESS_JUSTIFICATION]"
system_scope: "[COMPLETE_SYSTEM_BOUNDARY]"
impact_scope: "[ENTIRE_SYSTEM_AFFECTED]"
risk_level: "[HIGH|CRITICAL]"

# === SYSTEM REQUIREMENTS (@PM FILLS FROM ANALYSIS) ===
system_requirements:
  - "[SYSTEM_WIDE_REQUIREMENT_1]"
  - "[SYSTEM_WIDE_REQUIREMENT_2]"
  - "[SYSTEM_WIDE_REQUIREMENT_3]"

# === EPIC DECOMPOSITION (@PM FILLS BASED ON ANALYSIS) ===
major_phases:
  phase_1:
    name: "[PHASE_1]"
    prb_type: "large"
    scope: "[PHASE_1_SCOPE]"
    dependencies: []
  phase_2:
    name: "[PHASE_2]"
    prb_type: "large"
    scope: "[PHASE_2_SCOPE]"
    dependencies: ["[PHASE_1]"]
  integration:
    name: "[INTEGRATION]"
    prb_type: "large"
    scope: "[SYSTEM_INTEGRATION]"
    dependencies: ["[PHASE_1]", "[PHASE_2]"]

# === RISK MANAGEMENT (@PM FILLS FROM RISK ANALYSIS) ===
rollback_strategy: "[HOW_TO_ROLLBACK_AT_EACH_PHASE]"
validation_gates: "[VALIDATION_AT_EACH_PHASE]"
monitoring_plan: "[HOW_TO_MONITOR_SYSTEM_HEALTH]"
integration_strategy: "[SYSTEM_WIDE_INTEGRATION_APPROACH]"
testing_strategy: "[COMPREHENSIVE_SYSTEM_TESTING]"

# === REVIEW AND STAKEHOLDERS (@PM ASSIGNS) ===
system_architect: "[SYSTEM_ARCHITECT]"
key_stakeholders: "[KEY_STAKEHOLDERS]"

# === EXECUTION PATTERN (KEEP AS-IS) ===
execution_steps:
  - "Create epic branch for system-wide coordination"
  - "Generate Phase 1 Large PRBs and execute with validation gates"
  - "Generate Phase 2 Large PRBs building on Phase 1, execute with validation"
  - "Generate Integration Large PRBs for system unification, execute with validation"
  - "Perform comprehensive system testing and health monitoring"
  - "Update CHANGELOG, complete architecture documentation overhaul"
  - "Create comprehensive user documentation and migration guide"
  - "Conduct architectural board review with all stakeholders"
  - "Execute staged rollout plan with rollback capability enabled"

validation_checklist:
  - "All phase Large PRBs executed successfully with validation gates"
  - "System integration working across all components"
  - "Comprehensive system testing passed"
  - "Architecture documentation completely updated"
  - "Migration guide created and validated"
  - "Architectural board review completed and approved"
  - "Rollback strategy tested and verified"
  - "Staged rollout plan ready for execution"
  - "Git privacy settings applied throughout system"
  - "System health monitoring active and functioning"